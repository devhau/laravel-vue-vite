import{r as l,o as g,c as C,a as s,b as a,w as c,d as z,h as q,e as S,f as $,H as E,g as b,i as K,t as Q,j as F,k as Y,l as J,m as Z,n as ee,p as te,q as oe}from"./vendor.0fa58858.js";const ne="en",D={None:"None",NoSidebar:"NoSidebar",Sidebar:"Sidebar"},f={LOADING:"LOADING",DONE:"DONE",ERORR:"ERORR",NONE:""},A="AUTH_REQUEST",V="AUTH_SUCCESS",M="AUTH_ERROR",P="AUTH_LOGOUT",X="AUTH_CHECK";var R=(e,t)=>{for(const[o,n]of t)e[o]=n;return e};const se={setup(){}},ie={class:"vh-profile-box"},ae=s("div",{class:"vh-profile-box__item"},null,-1),re=s("div",{class:"vh-profile-box__item"},null,-1),le=s("div",{class:"vh-profile-box__item"},null,-1),ce=s("div",{class:"vh-profile-box__item"},null,-1),ue={class:"vh-profile-box__item"};function de(e,t,o,n,i,u){const r=l("vh-col"),d=l("vh-button"),h=l("vh-row");return g(),C("div",ie,[ae,re,le,ce,s("div",ue,[a(h,null,{default:c(()=>[a(r),a(r,null,{default:c(()=>[a(d,{size:"sm",text:e.$t("profile.button.logout")},null,8,["text"])]),_:1})]),_:1})])])}var me=R(se,[["render",de]]);const he=z({name:"HomePage",data(){return{layout:"Sidebar",keyApp:"",menu:{app:{logo:{app:"HauAdmin",mini:"HAU"},version:{app:"Version 1.0.2",mini:"1.0.2"}},sidebar:[{className:"",icon:()=>"bi bi-box",title:()=>this.$t("menu.dashboard"),router:{name:"Home"}},{icon:"bi bi-box",title:"B\u1EA3o m\u1EADt",sub:[{className:"",icon:"bi bi-box",title:"T\xE0i kho\u1EA3n",router:{name:"User"}},{className:"",icon:"bi bi-box",title:"Vai tr\xF2",router:{name:"Role"}},{className:"",icon:"bi bi-box",title:"Quy\u1EC1n",router:{name:"Permission"}}]}],header:{left:[{className:"",icon:"bi bi-box",title:"Home",link:"https://www.hau.xyz",sub:[]},{className:"",icon:"bi bi-box",title:"Report",link:"",sub:[{className:"",icon:"bi bi-box",title:"Report 1",link:""},{className:"",icon:"bi bi-box",title:"Report 2",link:""}]},{className:"",icon:"bi bi-box",title:"Order",link:"",sub:[]},{className:"",icon:"bi bi-box",title:"Github",link:"https://github.com/devhau/vue-ui-demo",sub:[]}],right:[{className:"",icon:"bi bi-box",title:"Inbox",link:"",sub:[]},{className:"vh-profile",icon:"bi bi-box",title:()=>{var e;return(e=this.$store.state.user)==null?void 0:e.name},link:"",sub:()=>q(me,{})}]},footer:[{className:"",icon:"bi bi-box",title:"Information",link:"",sub:[]},{className:"",icon:"bi bi-box",title:"Information",link:"",sub:[]}]}}},watch:{"$route.meta.layout":{handler:function(e){this.layout=e},deep:!0,immediate:!0},"$route.meta.can":{handler:function(e){this.canPermission(e)},deep:!0,immediate:!0}},methods:{forceUpdate(){this.keyApp=`app-${new Date().getTime()}`},canPermission(e){e&&!this.$can(e)&&this.$router.push({name:"Login"})},checkPermission(){this.$nextTick(()=>{this.canPermission(this.$route.meta.can),this.forceUpdate(),this.$forceUpdate()})}},beforeMount(){this.$store.dispatch(A,this)}});function pe(e,t,o,n,i,u){const r=l("router-view"),d=l("vh-application");return g(),S(d,{key:e.keyApp,menu:e.menu,miniSidebar:!1,layout:e.layout},{default:c(()=>[a(r)]),_:1},8,["menu","layout"])}var _e=R(he,[["render",pe]]);const ve="http://127.0.0.1:8000/api/",k=e=>e.startsWith("http")?e:ve+e,v={"Content-Type":"application/json",Accept:"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Origin, X-Requested-With, Content-Type, Accept"},U={...v,"Content-Type":"multipart/form-data; boundary=something",Accept:"multipart/form-data"},be=()=>{delete v.Authorization,delete U.Authorization},fe=e=>{v.Authorization=`Bearer ${e}`,U.Authorization=`Bearer ${e}`},N={get:(e,t)=>$.default.get(k(e),{params:t,headers:v,validateStatus:o=>E(o)}),post:(e,t)=>$.default.post(k(e),t,{headers:v,validateStatus:o=>E(o)}),put:(e,t)=>$.default.put(k(e),t,{headers:v,validateStatus:o=>E(o)}),delete:(e,t)=>$.default.delete(k(e),{params:t,headers:v,validateStatus:o=>E(o)}),postMultiplePart:(e,t)=>$.default.post(k(e),t,{headers:U,validateStatus:o=>E(o)})},Xt=e=>({getAll:u=>N.get(`${e}`,u),add:u=>N.post(`${e}`,u),edit:(u,r)=>N.put(`${e}/${u}`,r),remove:u=>N.delete(`${e}/${u}`)});var _={...N,clearToken:be,setToken:fe};const O="vue_auth_token",ge=e=>_.post("auth/login",e),$e=e=>_.post("auth/register",e),Ee=e=>_.post("auth/changePassword",e),B=()=>_.get("auth/user"),Ae=()=>_.get("auth/logout"),G=()=>{const e=localStorage.getItem(O);return e!=null?(_.setToken(e),!0):!1},Re=async()=>(G(),await B()),ke=e=>{_.setToken(e),localStorage.setItem(O,e)},Ne=e=>{e&&Ae(),_.clearToken(),localStorage.removeItem(O)};var T={login:ge,register:$e,me:B,checkAuth:G,setToken:ke,clearToken:Ne,changePassword:Ee,getUserMe:Re};const Te={data(){return{password:"",account:""}},methods:{doLogin(){T.login({email:this.account,device_name:"web",password:this.password}).then(({data:e})=>{T.setToken(e.token),this.$store.dispatch(A,this),this.$router.push({name:"Home"})})}},setup(){}},we={class:"vh-auth-box"},ye=s("div",{class:"vh-auth-header"},[s("h3",null,"Login")],-1),Pe={class:"vh-auth-body"},xe={class:"mb-2"},Se=s("label",{for:"account"},"Account",-1),Ue={class:"mb-2"},Oe=s("label",{for:"password"},"Password",-1),Ie={class:"mb-2"},Le={class:"vh-auth-bottom"},He=b(" Register "),Ce=b(" Login ");function De(e,t,o,n,i,u){const r=l("vh-input"),d=l("vh-checkbox"),h=l("vh-button"),w=l("vh-col"),x=l("vh-row"),p=l("vh-page");return g(),S(p,{class:"vh-auth-page"},{default:c(()=>[s("div",we,[ye,s("div",Pe,[s("div",xe,[Se,a(r,{modelValue:i.account,"onUpdate:modelValue":t[0]||(t[0]=y=>i.account=y),id:"account",placeholder:"Account"},null,8,["modelValue"])]),s("div",Ue,[Oe,a(r,{modelValue:i.password,"onUpdate:modelValue":t[1]||(t[1]=y=>i.password=y),type:"password",id:"password",placeholder:"Password"},null,8,["modelValue"])]),s("div",Ie,[a(d,{label:"Remember me"})])]),s("div",Le,[a(x,null,{default:c(()=>[a(w,null,{default:c(()=>[a(h,{color:"success",onClick:t[2]||(t[2]=y=>e.$router.push({name:"Register"}))},{default:c(()=>[He]),_:1})]),_:1}),a(w,null,{default:c(()=>[a(h,{onClick:u.doLogin},{default:c(()=>[Ce]),_:1},8,["onClick"])]),_:1})]),_:1})])])]),_:1})}var Ve=R(Te,[["render",De]]);const Me={data(){return{email:"",name:"",pass:""}},methods:{doRegister(){T.register({email:this.email,name:this.name,password:this.pass}).then(()=>{this.$router.push({name:"Login"})})}},setup(){}},Xe={class:"vh-auth-box"},Be=s("div",{class:"vh-auth-header"},[s("h3",null,"Register")],-1),Ge={class:"vh-auth-body"},je={class:"mb-2"},We=s("label",{for:"email"},"Email",-1),ze={class:"mb-2"},qe=s("label",{for:"fullname"},"Full name",-1),Ke={class:"mb-2"},Qe=s("label",{for:"password"},"Password",-1),Fe={class:"vh-auth-bottom"},Ye=b(" Login "),Je=b(" Register ");function Ze(e,t,o,n,i,u){const r=l("vh-input"),d=l("vh-button"),h=l("vh-col"),w=l("vh-row"),x=l("vh-page");return g(),S(x,{class:"vh-auth-page"},{default:c(()=>[s("div",Xe,[Be,s("div",Ge,[s("div",je,[We,a(r,{modelValue:i.email,"onUpdate:modelValue":t[0]||(t[0]=p=>i.email=p),id:"email",placeholder:"Email"},null,8,["modelValue"])]),s("div",ze,[qe,a(r,{modelValue:i.name,"onUpdate:modelValue":t[1]||(t[1]=p=>i.name=p),id:"fullname",placeholder:"Full name"},null,8,["modelValue"])]),s("div",Ke,[Qe,a(r,{modelValue:i.pass,"onUpdate:modelValue":t[2]||(t[2]=p=>i.pass=p),type:"password",id:"password",placeholder:"Password"},null,8,["modelValue"])])]),s("div",Fe,[a(w,null,{default:c(()=>[a(h,null,{default:c(()=>[a(d,{onClick:t[3]||(t[3]=p=>e.$router.push({name:"Login"}))},{default:c(()=>[Ye]),_:1})]),_:1}),a(h,null,{default:c(()=>[a(d,{color:"success",onClick:u.doRegister},{default:c(()=>[Je]),_:1},8,["onClick"])]),_:1})]),_:1})])])]),_:1})}var et=R(Me,[["render",Ze]]),tt=[{path:"/login",name:"Login",component:Ve,meta:{layout:D.None}},{path:"/register",name:"Register",component:et,meta:{layout:D.None}}];const ot="modulepreload",j={},nt="/dist/",I=function(t,o){return!o||o.length===0?t():Promise.all(o.map(n=>{if(n=`${nt}${n}`,n in j)return;j[n]=!0;const i=n.endsWith(".css"),u=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${u}`))return;const r=document.createElement("link");if(r.rel=i?"stylesheet":ot,i||(r.as="script",r.crossOrigin=""),r.href=n,document.head.appendChild(r),i)return new Promise((d,h)=>{r.addEventListener("load",d),r.addEventListener("error",h)})})).then(()=>t())};var st={INDEX:"home.index"},it={INDEX:"permission.index",NEW:"permission.store",EDIT:"permission.update",REMOVE:"permission.destroy"},at={INDEX:"user.index",NEW:"user.store",EDIT:"user.update",REMOVE:"user.destroy",PERMISSION:"user.permission"},rt={INDEX:"role.index",NEW:"role.store",EDIT:"role.update",REMOVE:"role.destroy",PERMISSION:"role.permission"},L={HOME:st,PERMISSION:it,USER:at,ROLE:rt},lt=[{path:"/user",name:"User",meta:{can:L.USER.INDEX},component:()=>I(()=>import("./index.8bb45c39.js"),["assets/index.8bb45c39.js","assets/index.bdc8142a.js","assets/index.7a4aaeba.css","assets/vendor.0fa58858.js"])},{path:"/role",name:"Role",meta:{can:L.ROLE.INDEX},component:()=>I(()=>import("./index.4a5f9635.js"),["assets/index.4a5f9635.js","assets/index.bdc8142a.js","assets/index.7a4aaeba.css","assets/vendor.0fa58858.js"])},{path:"/permission",name:"Permission",meta:{can:L.PERMISSION.INDEX},component:()=>I(()=>import("./index.aba04f50.js"),["assets/index.aba04f50.js","assets/index.bdc8142a.js","assets/index.7a4aaeba.css","assets/vendor.0fa58858.js"])}];const ct={},ut=b("Ch\xE0o m\u1ECDi ng\u01B0\u1EDDi");function dt(e,t){const o=l("vh-button"),n=K("can");return g(),C("div",null,[b(Q(e.$can("home.indexfff"))+" ",1),F(a(o,null,{default:c(()=>[ut]),_:1},512),[[n,"home.index"]])])}var mt=R(ct,[["render",dt]]),ht=[{path:"/",name:"Home",meta:{},component:mt},...tt,...lt],pt={hello:"hello",manager:{button:{new:"New",edit:"Edit",remove:"Remove",delete:"Delete",cancel:"Cancel",active:"Active",view:"View",detail:"Detail",update:"Update"}}},_t={dashboard:"B\u1EA3ng \u0111i\u1EC1u khi\u1EC3n"},vt={},bt={button:{logout:"Logout"}},ft={common:pt,module:vt,menu:_t,profile:bt},gt={},$t={common:gt},Et={hello:"Xin ch\xE0o",manager:{title:{new:"Th\xEAm m\u1EDBi",edit:"Ch\u1EC9nh s\u1EEDa",action:"H\xE0nh \u0111\u1ED9ng",confirmDelete:"B\u1EA1n c\xF3 mu\u1ED1n x\xF3a b\u1EA3ng ghi n\xE0y kh\xF4ng?",remove:"X\xF3a d\u1EEF li\u1EC7u"},button:{new:"Th\xEAm m\u1EDBi",edit:"Ch\u1EC9nh s\u1EEDa",remove:"X\xF3a b\u1ECF",delete:"X\xF3a",cancel:"H\u1EE7y b\u1ECF",active:"K\xEDch ho\u1EA1ch",view:"Hi\u1EC3n th\u1ECB",detail:"Chi ti\u1EBFt",update:"C\u1EADp nh\u1EADt"},table:{empty:"Kh\xF4ng t\xECm th\u1EA5y d\u1EEF li\u1EC7u!"}}},At={dashboard:"B\u1EA3ng \u0111i\u1EC1u khi\u1EC3n"},Rt={title:"Vai tr\xF2",button:{permission:"Ph\xE2n quy\u1EC1n"}},kt={title:"Quy\u1EC1n"},Nt={title:"T\xE0i kho\u1EA3n"},Tt={permission:kt,role:Rt,user:Nt},wt={button:{logout:"Logout"}},yt={common:Et,module:Tt,menu:At,profile:wt},Pt={en:ft,jp:$t,vi:yt},xt={},St={},Ut={};const Ot=async()=>({loggin:void 0,user:{},permissions:[],status:"",isAdmin:!1});var It={state:Ot(),actions:{[A]:({commit:e,dispatch:t},o)=>{e(A),T.getUserMe().then(n=>{var i;n.status!=401&&(n==null?void 0:n.data)?e(V,(i=n==null?void 0:n.data)==null?void 0:i.data):(e(M),e(P)),t(X,o)})},[X]:({commit:e,dispatch:t},o)=>{o&&o.checkPermission&&o.checkPermission()},[P]:({commit:e,dispatch:t},o)=>{e(P),T.clearToken(!0)}},getters:{isAuthenticated:e=>(t=!0)=>t&&e.status==f.LOADING||e.loggin,canPermission:e=>(t,o=!0)=>e.status==f.LOADING&&o?!0:!(!e.loggin||!e.isAdmin&&!e.permissions.includes(t))},mutations:{[A]:e=>{e.status=f.LOADING},[V]:(e,t)=>{e.status=f.DONE,e.loggin=!0,e.user=t.user,e.isAdmin=t.isAdmin,e.permissions=t.permissions},[M]:e=>{e.status=f.ERORR,e.loggin=!1},[P]:e=>{e.status=f.NONE,e.loggin=!1,e.user=void 0,e.isAdmin=void 0,e.permissions=void 0}}},Lt={auth:It},Ht={state:St,mutations:Ut,getters:xt,modules:Lt},Ct=e=>{e.directive("can",{mounted(t,o,n){t.style.visibility=e.config.globalProperties.$can(o.value,!1)?"":"hidden"}})},Dt=e=>{e.use(Ct)};const Vt=Y({locale:"vi",fallbackLocale:ne,messages:Pt}),H=J(Ht),W=Z({history:ee(),routes:ht}),m=te(_e);W.beforeEach((e,t,o)=>{var n;return((n=e==null?void 0:e.meta)==null?void 0:n.can)&&!m.config.globalProperties.$can(e.meta.can)?o({name:"Login"}):m.config.globalProperties.$isAuth()&&e.path==="/login"?o("/"):o()});m.config.globalProperties.$can=(e,t=!0)=>H.getters.canPermission(e,t);m.config.globalProperties.$isAuth=(e=!0)=>H.getters.isAuthenticated(e);m.use(oe);m.use(W);m.use(H);m.use(Vt);m.use(Dt);m.mount("#app");export{R as _,_ as a,Xt as b,L as p};
