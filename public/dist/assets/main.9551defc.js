import{a as b,H as f,r as c,o as g,c as V,b as n,d as i,w as u,e as W,h as F,n as K,f as E,g as $,t as O,i as Y,j as J,k as Z,l as ee,m as te,p as oe}from"./vendor.e411d463.js";const ne="en",I={None:"None",NoSidebar:"NoSidebar",Sidebar:"Sidebar"},R="AUTH_REQUEST",B="AUTH_SUCCESS",D="AUTH_ERROR",j="AUTH_LOGOUT",se="http://127.0.0.1:8000/api/",A=e=>e.startsWith("http")?e:se+e,v={"Content-Type":"application/json",Accept:"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Origin, X-Requested-With, Content-Type, Accept"},L={...v,"Content-Type":"multipart/form-data; boundary=something",Accept:"multipart/form-data"},ae=()=>{delete v.Authorization,delete L.Authorization},ie=e=>{v.Authorization=`Bearer ${e}`,L.Authorization=`Bearer ${e}`},k={get:(e,t)=>b.default.get(A(e),{params:t,headers:v,validateStatus:o=>f(o)}),post:(e,t)=>b.default.post(A(e),t,{headers:v,validateStatus:o=>f(o)}),put:(e,t)=>b.default.put(A(e),t,{headers:v,validateStatus:o=>f(o)}),delete:(e,t)=>b.default.delete(A(e),{params:t,headers:v,validateStatus:o=>f(o)}),postMultiplePart:(e,t)=>b.default.post(A(e),t,{headers:L,validateStatus:o=>f(o)})},Vt=e=>({getAll:l=>k.get(`${e}`,l),add:l=>k.post(`${e}`,l),edit:(l,r)=>k.put(`${e}/${l}`,r),remove:l=>k.delete(`${e}/${l}`)});var _={...k,clearToken:ae,setToken:ie};const P="vue_auth_token",re=e=>_.post("auth/login",e),le=e=>_.post("auth/register",e),ce=e=>_.post("auth/changePassword",e),z=()=>_.get("auth/user"),ue=()=>_.get("auth/logout");let U=[],G=!1;const de=e=>G||(U==null?void 0:U.includes(e)),C=e=>U=e!=null?e:[],X=()=>{const e=localStorage.getItem(P);return e!=null?(_.setToken(e),!0):!1},he=async()=>{var e;if(!X()){H();return}try{let t=await z(),{permissions:o,isAdmin:s}=(e=t==null?void 0:t.data)==null?void 0:e.data;return C(o),G=s,t}catch(t){H(!0);return}},me=e=>{_.setToken(e),localStorage.setItem(P,e)},H=e=>{e&&ue(),C([]),_.clearToken(),localStorage.removeItem(P)};var p={login:re,register:le,me:z,checkAuth:X,setToken:me,clearToken:H,changePassword:ce,$can:de,setPermission:C,getUserMe:he};const _e=["/login","/register"],q=e=>{var s,a,l;let t=!_e.includes(e.path),o=p.checkAuth();return!((((s=e.meta)==null?void 0:s.can)||t)&&!o||((a=e.meta)==null?void 0:a.can)&&!p.$can((l=e.meta)==null?void 0:l.can))};var w=(e,t)=>{for(const[o,s]of t)e[o]=s;return e};const pe={setup(){}},ve={class:"vh-profile-box"},be=n("div",{class:"vh-profile-box__item"},null,-1),fe=n("div",{class:"vh-profile-box__item"},null,-1),ge=n("div",{class:"vh-profile-box__item"},null,-1),$e=n("div",{class:"vh-profile-box__item"},null,-1),Ae={class:"vh-profile-box__item"};function ke(e,t,o,s,a,l){const r=c("vh-button"),d=c("vh-col"),h=c("vh-row");return g(),V("div",ve,[be,fe,ge,$e,n("div",Ae,[i(h,null,{default:u(()=>[i(d,null,{default:u(()=>[i(r,{size:"sm",text:e.$t("profile.button.logout")},null,8,["text"])]),_:1}),i(d,null,{default:u(()=>[i(r,{size:"sm",text:e.$t("profile.button.logout")},null,8,["text"])]),_:1})]),_:1})])])}var we=w(pe,[["render",ke]]);const xe=W({name:"HomePage",data(){return{layout:"Sidebar",menu:{app:{logo:{app:"HauAdmin",mini:"HAU"},version:{app:"Version 1.0.2",mini:"1.0.2"}},sidebar:[{className:"",icon:()=>"bi bi-box",title:()=>this.$t("menu.dashboard"),router:{name:"Home"}},{icon:"bi bi-box",title:"B\u1EA3o m\u1EADt",sub:[{className:"",icon:"bi bi-box",title:"T\xE0i kho\u1EA3n",router:{name:"User"}},{className:"",icon:"bi bi-box",title:"Vai tr\xF2",router:{name:"Role"}},{className:"",icon:"bi bi-box",title:"Quy\u1EC1n",router:{name:"Permission"}}]}],header:{left:[{className:"",icon:"bi bi-box",title:"Home",link:"https://www.hau.xyz",sub:[]},{className:"",icon:"bi bi-box",title:"Report",link:"",sub:[{className:"",icon:"bi bi-box",title:"Report 1",link:""},{className:"",icon:"bi bi-box",title:"Report 2",link:""}]},{className:"",icon:"bi bi-box",title:"Order",link:"",sub:[]},{className:"",icon:"bi bi-box",title:"Github",link:"https://github.com/devhau/vue-ui-demo",sub:[]}],right:[{className:"",icon:"bi bi-box",title:"Inbox",link:"",sub:[]},{className:"vh-profile",icon:"bi bi-box",title:()=>{var e;return(e=this.$store.state.user)==null?void 0:e.name},link:"",sub:()=>F(we,{})}]},footer:[{className:"",icon:"bi bi-box",title:"Information",link:"",sub:[]},{className:"",icon:"bi bi-box",title:"Information",link:"",sub:[]}]}}},watch:{"$route.meta.layout":{handler:function(e){this.layout=e},deep:!0,immediate:!0}},created:()=>{},beforeMount(){this.$store.getters.isAuthenticated&&this.$store.dispatch(R),K(()=>{q(this.$route)||this.$router.push({name:"Login"})})},mounted(){}});function ye(e,t,o,s,a,l){const r=c("router-view"),d=c("vh-application");return g(),E(d,{menu:e.menu,miniSidebar:!1,layout:e.layout},{default:u(()=>[i(r),$(" "+O(this.$store.state.auth.loggin),1)]),_:1},8,["menu","layout"])}var Te=w(xe,[["render",ye]]);const Re={data(){return{password:"",account:""}},methods:{doLogin(){p.login({email:this.account,device_name:"web",password:this.password}).then(({data:e})=>{p.setToken(e.token),this.$router.push({name:"Home"})})}},setup(){}},Ue={class:"vh-auth-box"},Se=n("div",{class:"vh-auth-header"},[n("h3",null,"Login")],-1),Ee={class:"vh-auth-body"},Le={class:"mb-2"},Pe=n("label",{for:"account"},"Account",-1),Ce={class:"mb-2"},He=n("label",{for:"password"},"Password",-1),Ne={class:"mb-2"},Ve={class:"vh-auth-bottom"},Oe=$(" Register "),Ie=$(" Login ");function Be(e,t,o,s,a,l){const r=c("vh-input"),d=c("vh-checkbox"),h=c("vh-button"),y=c("vh-col"),S=c("vh-row"),m=c("vh-page");return g(),E(m,{class:"vh-auth-page"},{default:u(()=>[n("div",Ue,[Se,n("div",Ee,[n("div",Le,[Pe,i(r,{modelValue:a.account,"onUpdate:modelValue":t[0]||(t[0]=T=>a.account=T),id:"account",placeholder:"Account"},null,8,["modelValue"])]),n("div",Ce,[He,i(r,{modelValue:a.password,"onUpdate:modelValue":t[1]||(t[1]=T=>a.password=T),type:"password",id:"password",placeholder:"Password"},null,8,["modelValue"])]),n("div",Ne,[i(d,{label:"Remember me"})])]),n("div",Ve,[i(S,null,{default:u(()=>[i(y,null,{default:u(()=>[i(h,{color:"success",onClick:t[2]||(t[2]=T=>e.$router.push({name:"Register"}))},{default:u(()=>[Oe]),_:1})]),_:1}),i(y,null,{default:u(()=>[i(h,{onClick:l.doLogin},{default:u(()=>[Ie]),_:1},8,["onClick"])]),_:1})]),_:1})])])]),_:1})}var De=w(Re,[["render",Be]]);const je={data(){return{email:"",name:"",pass:""}},methods:{doRegister(){p.register({email:this.email,name:this.name,password:this.pass}).then(()=>{this.$router.push({name:"Login"})})}},setup(){}},ze={class:"vh-auth-box"},Ge=n("div",{class:"vh-auth-header"},[n("h3",null,"Register")],-1),Xe={class:"vh-auth-body"},qe={class:"mb-2"},Me=n("label",{for:"email"},"Email",-1),Qe={class:"mb-2"},We=n("label",{for:"fullname"},"Full name",-1),Fe={class:"mb-2"},Ke=n("label",{for:"password"},"Password",-1),Ye={class:"vh-auth-bottom"},Je=$(" Login "),Ze=$(" Register ");function et(e,t,o,s,a,l){const r=c("vh-input"),d=c("vh-button"),h=c("vh-col"),y=c("vh-row"),S=c("vh-page");return g(),E(S,{class:"vh-auth-page"},{default:u(()=>[n("div",ze,[Ge,n("div",Xe,[n("div",qe,[Me,i(r,{modelValue:a.email,"onUpdate:modelValue":t[0]||(t[0]=m=>a.email=m),id:"email",placeholder:"Email"},null,8,["modelValue"])]),n("div",Qe,[We,i(r,{modelValue:a.name,"onUpdate:modelValue":t[1]||(t[1]=m=>a.name=m),id:"fullname",placeholder:"Full name"},null,8,["modelValue"])]),n("div",Fe,[Ke,i(r,{modelValue:a.pass,"onUpdate:modelValue":t[2]||(t[2]=m=>a.pass=m),type:"password",id:"password",placeholder:"Password"},null,8,["modelValue"])])]),n("div",Ye,[i(y,null,{default:u(()=>[i(h,null,{default:u(()=>[i(d,{onClick:t[3]||(t[3]=m=>e.$router.push({name:"Login"}))},{default:u(()=>[Je]),_:1})]),_:1}),i(h,null,{default:u(()=>[i(d,{color:"success",onClick:l.doRegister},{default:u(()=>[Ze]),_:1},8,["onClick"])]),_:1})]),_:1})])])]),_:1})}var tt=w(je,[["render",et]]),ot=[{path:"/login",name:"Login",component:De,meta:{layout:I.None}},{path:"/register",name:"Register",component:tt,meta:{layout:I.None}}];const nt="modulepreload",M={},st="/dist/",N=function(t,o){return!o||o.length===0?t():Promise.all(o.map(s=>{if(s=`${st}${s}`,s in M)return;M[s]=!0;const a=s.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${l}`))return;const r=document.createElement("link");if(r.rel=a?"stylesheet":nt,a||(r.as="script",r.crossOrigin=""),r.href=s,document.head.appendChild(r),a)return new Promise((d,h)=>{r.addEventListener("load",d),r.addEventListener("error",h)})})).then(()=>t())};var at=[{path:"/user",name:"User",component:()=>N(()=>import("./index.ade447a5.js"),["assets/index.ade447a5.js","assets/index.c2c7154c.js","assets/vendor.e411d463.js"])},{path:"/role",name:"Role",component:()=>N(()=>import("./index.2cc3f70d.js"),["assets/index.2cc3f70d.js","assets/index.c2c7154c.js","assets/vendor.e411d463.js"])},{path:"/permission",name:"Permission",component:()=>N(()=>import("./index.d01c30c8.js"),["assets/index.d01c30c8.js","assets/index.c2c7154c.js","assets/vendor.e411d463.js"])}];const it={};function rt(e,t){return g(),V("div",null,O(e.$t("common.hello")),1)}var lt=w(it,[["render",rt]]),ct=[{path:"/",name:"Home",component:lt},...ot,...at];const Q=Y({history:J(),routes:ct});Q.beforeEach((e,t,o)=>q(e)?o():o({name:"Login"}));var ut={hello:"hello",manager:{button:{new:"New",edit:"Edit",remove:"Remove",delete:"Delete",cancel:"Cancel",active:"Active",view:"View",detail:"Detail",update:"Update"}}},dt={dashboard:"B\u1EA3ng \u0111i\u1EC1u khi\u1EC3n"},ht={},mt={button:{logout:"Logout"}},_t={common:ut,module:ht,menu:dt,profile:mt},pt={},vt={common:pt},bt={hello:"Xin ch\xE0o",manager:{title:{new:"Th\xEAm m\u1EDBi",edit:"Ch\u1EC9nh s\u1EEDa",action:"H\xE0nh \u0111\u1ED9ng",confirmDelete:"B\u1EA1n c\xF3 mu\u1ED1n x\xF3a b\u1EA3ng ghi n\xE0y kh\xF4ng?",remove:"X\xF3a d\u1EEF li\u1EC7u"},button:{new:"Th\xEAm m\u1EDBi",edit:"Ch\u1EC9nh s\u1EEDa",remove:"X\xF3a b\u1ECF",delete:"X\xF3a",cancel:"H\u1EE7y b\u1ECF",active:"K\xEDch ho\u1EA1ch",view:"Hi\u1EC3n th\u1ECB",detail:"Chi ti\u1EBFt",update:"C\u1EADp nh\u1EADt"},table:{empty:"Kh\xF4ng t\xECm th\u1EA5y d\u1EEF li\u1EC7u!"}}},ft={dashboard:"B\u1EA3ng \u0111i\u1EC1u khi\u1EC3n"},gt={title:"Vai tr\xF2",button:{permission:"Ph\xE2n quy\u1EC1n"}},$t={title:"Quy\u1EC1n"},At={title:"T\xE0i kho\u1EA3n"},kt={permission:$t,role:gt,user:At},wt={button:{logout:"Logout"}},xt={common:bt,module:kt,menu:ft,profile:wt},yt={en:_t,jp:vt,vi:xt},Tt={},Rt={},Ut={};const St=async()=>({loggin:p.checkAuth(),user:{},status:""});var Et={state:St(),actions:{[R]:({commit:e,dispatch:t},o)=>{e(R),p.getUserMe().then(({data:s})=>{s&&s.OK?e(B,s.data):(e(D),e(j))})}},getters:{isAuthenticated:()=>p.checkAuth()},mutations:{[R]:e=>{e.status="loading"},[B]:(e,t)=>{console.log(t),e.status="done",e.loggin=!0,e.user=t.user},[D]:e=>{e.status="error",e.loggin=!1},[j]:e=>{e.status="",e.loggin=!1}}},Lt={auth:Et},Pt={state:Rt,mutations:Ut,getters:Tt,modules:Lt};const Ct=Z({locale:"vi",fallbackLocale:ne,messages:yt}),Ht=ee(Pt),x=te(Te);x.use(oe);x.use(Q);x.use(Ht);x.use(Ct);x.mount("#app");export{w as _,_ as a,Vt as b};
