import{t as $,h as v,r as c,o as d,c as h,a as r,b as i,w as m,F as D,d as H,n as V,e as E,f as K,g as se,i as U,j as R,H as N,k as ne,l as re,m as ae,p as ie,q as le,s as ce,u as ue}from"./vendor.d37cc74f.js";const de="en",W={None:"None",NoSidebar:"NoSidebar",Sidebar:"Sidebar"},y={LOADING:"LOADING",DONE:"DONE",ERORR:"ERORR",NONE:""},M="KEY_LOLCAL_LANG",w="AUTH_REQUEST",F="AUTH_SUCCESS",Q="AUTH_ERROR",L="AUTH_LOGOUT",Y="AUTH_CHECK";var me={logo:{app:"HauAdmin",mini:"HAU"},version:{app:"Version 1.0.2",mini:"1.0.2"}},p=(e,t)=>{for(const[o,n]of t)e[o]=n;return e};const he={props:{text:{}},setup(){}};function pe(e,t,o,n,a,l){return $(e.$t(o.text))}var T=p(he,[["render",pe]]),_e=[{className:"",icon:()=>"bi bi-box",title:()=>v(T,{text:"menu.dashboard"}),router:{name:"Home"}},{icon:"bi bi-box",title:()=>v(T,{text:"menu.system.title"}),sub:[{className:"",icon:"bi bi-box",title:()=>v(T,{text:"menu.system.user"}),router:{name:"User"}},{className:"",icon:"bi bi-box",title:()=>v(T,{text:"menu.system.role"}),router:{name:"Role"}},{className:"",icon:"bi bi-box",title:()=>v(T,{text:"menu.system.permission"}),router:{name:"Permission"}}]}],ve=[{className:"",icon:"bi bi-box",title:"Home",link:"https://www.hau.xyz",sub:[]},{className:"",icon:"bi bi-box",title:"Report",link:"",sub:[{className:"",icon:"bi bi-box",title:"Report 1",link:""},{className:"",icon:"bi bi-box",title:"Report 2",link:""}]},{className:"",icon:"bi bi-box",title:"Order",link:"",sub:[]},{className:"",icon:"bi bi-box",title:"Github",link:"https://github.com/devhau/vue-ui-demo",sub:[]}];const fe={setup(){},methods:{logout(){this.$store.dispatch(L),this.$router.push({name:"Login"})}}},be={class:"vh-profile-box"},ge={class:"vh-profile-box__avatar"},$e=r("img",{class:"vh-profile-box__avatar--image"},null,-1),Ee={style:{color:"#fff"}},Ae={class:"vh-profile-box__item"};function ye(e,t,o,n,a,l){const s=c("vh-button"),u=c("vh-col"),f=c("vh-row");return d(),h("div",be,[r("div",ge,[$e,r("h4",Ee,$(e.$store.state.auth.user.name),1)]),r("div",Ae,[i(f,null,{default:m(()=>[i(u,{style:{"text-align":"start","padding-left":"15px"}},{default:m(()=>[i(s,{beforeIcon:"bi bi-person",size:"sm",text:e.$t("profile.button.profile")},null,8,["text"])]),_:1}),i(u,{style:{"text-align":"end","padding-right":"15px"}},{default:m(()=>[i(s,{beforeIcon:"bi bi-power",size:"sm",text:e.$t("profile.button.logout"),onClick:l.logout},null,8,["text","onClick"])]),_:1})]),_:1})])])}var ke=p(fe,[["render",ye]]);const Re={methods:{switchLocal(e){this.$i18n.locale=e,localStorage.setItem(M,e)}},data(){return{langs:["vi","en","jp"]}}},Ne={class:"vh-switch-local"},we=["onClick"];function Le(e,t,o,n,a,l){return d(),h("div",Ne,[(d(!0),h(D,null,H(a.langs,s=>(d(),h("div",{class:V(["vh-local-item",s==e.$i18n.locale?"active":""]),key:s,onClick:u=>l.switchLocal(s)},[r("i",{class:V(e.$t(`common.local.${s}.icon`))},null,2),E(" "+$(e.$t(`common.local.${s}.text`)),1)],10,we))),128))])}var Te=p(Re,[["render",Le]]);const xe={};function Pe(e,t){return d(),h("span",null,[r("i",{class:V(e.$t(`common.local.${e.$i18n.locale}.icon`))},null,2),E(" "+$(e.$t(`common.local.${e.$i18n.locale}.text`)),1)])}var Se=p(xe,[["render",Pe]]);const Ie={setup(){}},Oe={key:0};function Ue(e,t,o,n,a,l){return e.$store.state.auth.user?(d(),h("span",Oe,$(e.$store.state.auth.user.name),1)):K("",!0)}var Ce=p(Ie,[["render",Ue]]),De=[{className:"",icon:"",title:()=>v(Se,{}),link:"",sub:()=>v(Te,{})},{className:"vh-profile",icon:"bi bi-person-square",title:()=>v(Ce,{}),link:"",sub:()=>v(ke,{})}];const He={left:ve,right:De};var Ve=[{className:"",icon:"bi bi-box",title:"Information",link:"",sub:[]},{className:"",icon:"bi bi-box",title:"Information",link:"",sub:[]}];const Me={app:me,header:He,sidebar:_e,footer:Ve},je=se({name:"HomePage",data(){return{layout:"Sidebar",keyApp:"",menu:Me}},watch:{"$route.meta.layout":{handler:function(e){this.layout=e},deep:!0,immediate:!0},"$route.meta.can":{handler:function(e){this.canPermission(e)},deep:!0,immediate:!0},"$store.state.loggin":{handler:function(e,t){this.checkPermission()},deep:!0,immediate:!0}},methods:{forceUpdate(){this.keyApp=`app-${new Date().getTime()}`},canPermission(e){e&&!this.$can(e)&&this.$router.push({name:"Login"})},checkPermission(){this.$nextTick(()=>{this.canPermission(this.$route.meta.can)||!this.$route.meta.can&&this.$route.meta.auth===!0&&!this.$isAuth()&&this.$router.push({name:"Login"}),this.forceUpdate(),this.$forceUpdate()})}},beforeMount(){this.$store.dispatch(w,this)}});function Ge(e,t,o,n,a,l){const s=c("router-view"),u=c("vh-application");return d(),U(u,{key:e.keyApp,menu:e.menu,miniSidebar:!1,layout:e.layout},{default:m(()=>[i(s)]),_:1},8,["menu","layout"])}var Xe=p(je,[["render",Ge]]);const qe="http://127.0.0.1:8000/api/",x=e=>e.startsWith("http")?e:qe+e,A={"Content-Type":"application/json",Accept:"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Origin, X-Requested-With, Content-Type, Accept"},j={...A,"Content-Type":"multipart/form-data; boundary=something",Accept:"multipart/form-data"},ze=()=>{delete A.Authorization,delete j.Authorization},Be=e=>{A.Authorization=`Bearer ${e}`,j.Authorization=`Bearer ${e}`},P={get:(e,t)=>R.default.get(x(e),{params:t,headers:A,validateStatus:o=>N(o)}),post:(e,t)=>R.default.post(x(e),t,{headers:A,validateStatus:o=>N(o)}),put:(e,t)=>R.default.put(x(e),t,{headers:A,validateStatus:o=>N(o)}),delete:(e,t)=>R.default.delete(x(e),{params:t,headers:A,validateStatus:o=>N(o)}),postMultiplePart:(e,t)=>R.default.post(x(e),t,{headers:j,validateStatus:o=>N(o)})},So=e=>({getAll:l=>P.get(`${e}`,l),add:l=>P.post(`${e}`,l),edit:(l,s)=>P.put(`${e}/${l}`,s),remove:l=>P.delete(`${e}/${l}`)});var g={...P,clearToken:ze,setToken:Be};const G="vue_auth_token",Ke=e=>g.post("auth/login",e),We=e=>g.post("auth/register",e),Fe=e=>g.post("auth/changePassword",e),J=()=>g.get("auth/user"),Qe=()=>g.get("auth/logout"),Z=()=>{const e=localStorage.getItem(G);return e!=null?(g.setToken(e),!0):!1},Ye=async()=>(Z(),await J()),Je=e=>{g.setToken(e),localStorage.setItem(G,e)},Ze=e=>{e&&Qe(),g.clearToken(),localStorage.removeItem(G)};var S={login:Ke,register:We,me:J,checkAuth:Z,setToken:Je,clearToken:Ze,changePassword:Fe,getUserMe:Ye};const et={props:{errors:{}},setup(){}},tt={key:0,class:"errors"};function ot(e,t,o,n,a,l){return o.errors?(d(),h("div",tt,[r("ul",null,[(d(!0),h(D,null,H(Object.keys(o.errors),s=>(d(),h("li",{key:s},[E($(e.$t(s))+" : ",1),r("ul",null,[(d(!0),h(D,null,H(o.errors[s],u=>(d(),h("li",{key:u},$(e.$t(u)),1))),128))])]))),128))])])):K("",!0)}var ee=p(et,[["render",ot]]);const st={components:{errors:ee},data(){return{password:"",account:"",errors:void 0}},methods:{doLogin(){S.login({email:this.account,device_name:"web",password:this.password}).then(e=>{e.data.OK==!0?(S.setToken(e.data.data.token),this.$store.dispatch(w,this),this.$router.push({name:"Home"})):this.errors=e.data.errors})}},setup(){}},nt={class:"vh-auth-box"},rt=r("div",{class:"vh-auth-header"},[r("h3",null,"Login")],-1),at={class:"vh-auth-body"},it={class:"mb-2"},lt=r("label",{for:"account"},"Account",-1),ct={class:"mb-2"},ut=r("label",{for:"password"},"Password",-1),dt={class:"mb-2"},mt={class:"vh-auth-bottom"},ht=E(" Register "),pt=E(" Login ");function _t(e,t,o,n,a,l){const s=c("errors"),u=c("vh-input"),f=c("vh-checkbox"),k=c("vh-button"),I=c("vh-col"),C=c("vh-row"),b=c("vh-page");return d(),U(b,{class:"vh-auth-page"},{default:m(()=>[r("div",nt,[rt,r("div",at,[i(s,{errors:a.errors},null,8,["errors"]),r("div",it,[lt,i(u,{modelValue:a.account,"onUpdate:modelValue":t[0]||(t[0]=O=>a.account=O),id:"account",placeholder:"Account"},null,8,["modelValue"])]),r("div",ct,[ut,i(u,{modelValue:a.password,"onUpdate:modelValue":t[1]||(t[1]=O=>a.password=O),type:"password",id:"password",placeholder:"Password"},null,8,["modelValue"])]),r("div",dt,[i(f,{label:"Remember me"})])]),r("div",mt,[i(C,null,{default:m(()=>[i(I,null,{default:m(()=>[i(k,{color:"success",onClick:t[2]||(t[2]=O=>e.$router.push({name:"Register"}))},{default:m(()=>[ht]),_:1})]),_:1}),i(I,null,{default:m(()=>[i(k,{onClick:l.doLogin},{default:m(()=>[pt]),_:1},8,["onClick"])]),_:1})]),_:1})])])]),_:1})}var vt=p(st,[["render",_t]]);const ft={components:{errors:ee},data(){return{email:"",name:"",pass:"",errors:void 0}},methods:{doRegister(){S.register({email:this.email,name:this.name,password:this.pass}).then(e=>{e.data.OK==!0?this.$router.push({name:"Login"}):this.errors=e.data.errors})}},setup(){}},bt={class:"vh-auth-box"},gt=r("div",{class:"vh-auth-header"},[r("h3",null,"Register")],-1),$t={class:"vh-auth-body"},Et={class:"mb-2"},At=r("label",{for:"email"},"Email",-1),yt={class:"mb-2"},kt=r("label",{for:"fullname"},"Full name",-1),Rt={class:"mb-2"},Nt=r("label",{for:"password"},"Password",-1),wt={class:"vh-auth-bottom"},Lt=E(" Login "),Tt=E(" Register ");function xt(e,t,o,n,a,l){const s=c("errors"),u=c("vh-input"),f=c("vh-button"),k=c("vh-col"),I=c("vh-row"),C=c("vh-page");return d(),U(C,{class:"vh-auth-page"},{default:m(()=>[r("div",bt,[gt,r("div",$t,[i(s,{errors:a.errors},null,8,["errors"]),r("div",Et,[At,i(u,{modelValue:a.email,"onUpdate:modelValue":t[0]||(t[0]=b=>a.email=b),id:"email",placeholder:"Email"},null,8,["modelValue"])]),r("div",yt,[kt,i(u,{modelValue:a.name,"onUpdate:modelValue":t[1]||(t[1]=b=>a.name=b),id:"fullname",placeholder:"Full name"},null,8,["modelValue"])]),r("div",Rt,[Nt,i(u,{modelValue:a.pass,"onUpdate:modelValue":t[2]||(t[2]=b=>a.pass=b),type:"password",id:"password",placeholder:"Password"},null,8,["modelValue"])])]),r("div",wt,[i(I,null,{default:m(()=>[i(k,null,{default:m(()=>[i(f,{onClick:t[3]||(t[3]=b=>e.$router.push({name:"Login"}))},{default:m(()=>[Lt]),_:1})]),_:1}),i(k,null,{default:m(()=>[i(f,{color:"success",onClick:l.doRegister},{default:m(()=>[Tt]),_:1},8,["onClick"])]),_:1})]),_:1})])])]),_:1})}var Pt=p(ft,[["render",xt]]),St=[{path:"/login",name:"Login",component:vt,meta:{layout:W.None}},{path:"/register",name:"Register",component:Pt,meta:{layout:W.None}}];const It="modulepreload",te={},Ot="/dist/",X=function(t,o){return!o||o.length===0?t():Promise.all(o.map(n=>{if(n=`${Ot}${n}`,n in te)return;te[n]=!0;const a=n.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${l}`))return;const s=document.createElement("link");if(s.rel=a?"stylesheet":It,a||(s.as="script",s.crossOrigin=""),s.href=n,document.head.appendChild(s),a)return new Promise((u,f)=>{s.addEventListener("load",u),s.addEventListener("error",f)})})).then(()=>t())};var Ut={INDEX:"home.index"},Ct={INDEX:"permission.index",NEW:"permission.store",EDIT:"permission.update",REMOVE:"permission.destroy"},Dt={INDEX:"user.index",NEW:"user.store",EDIT:"user.update",REMOVE:"user.destroy",PERMISSION:"user.permission"},Ht={INDEX:"role.index",NEW:"role.store",EDIT:"role.update",REMOVE:"role.destroy",PERMISSION:"role.permission"},q={HOME:Ut,PERMISSION:Ct,USER:Dt,ROLE:Ht},Vt=[{path:"/user",name:"User",meta:{can:q.USER.INDEX},component:()=>X(()=>import("./index.210a3a73.js"),["assets/index.210a3a73.js","assets/index.2b6c79e2.js","assets/vendor.d37cc74f.js"])},{path:"/role",name:"Role",meta:{can:q.ROLE.INDEX},component:()=>X(()=>import("./index.c55beba9.js"),["assets/index.c55beba9.js","assets/index.2b6c79e2.js","assets/vendor.d37cc74f.js"])},{path:"/permission",name:"Permission",meta:{can:q.PERMISSION.INDEX},component:()=>X(()=>import("./index.2a480f8e.js"),["assets/index.2a480f8e.js","assets/index.2b6c79e2.js","assets/vendor.d37cc74f.js"])}];const Mt={},jt={class:"vh-dashboard__header---item"},Gt={class:"vh-dashboard__header---item_box"};function Xt(e,t){return d(),h("div",jt,[r("div",Gt,[ne(e.$slots,"default")])])}var qt=p(Mt,[["render",Xt]]);const zt={components:{headerItem:qt},data(){return{}},setup(){}},Bt={class:"vh-dashboard"},Kt={class:"vh-dashboard__header"},Wt=r("div",{class:"vh-dashboard__body"},null,-1);function Ft(e,t,o,n,a,l){const s=c("headerItem");return d(),h("div",Bt,[r("div",Kt,[i(s),i(s),i(s),i(s)]),Wt])}var Qt=p(zt,[["render",Ft]]);const Yt={components:{Dashboard:Qt},setup(){}};function Jt(e,t,o,n,a,l){const s=c("Dashboard",!0);return d(),U(s)}var Zt=p(Yt,[["render",Jt]]),eo=[{path:"/",name:"Home",meta:{auth:!0},component:Zt},...St,...Vt],to={hello:"hello",local:{en:{icon:"flag-icon flag-icon-squared flag-icon-us",text:"English"},jp:{icon:"flag-icon flag-icon-squared flag-icon-jp",text:"Japanese"},vi:{icon:"flag-icon flag-icon-squared flag-icon-vn",text:"Ti\u1EBFng vi\u1EC7t"}},manager:{title:{new:"New",edit:"Edit",action:"Action",confirmDelete:"Do you want to delete this record?",remove:"Delete"},button:{new:"New",edit:"Edit",remove:"Remove",delete:"Delete",cancel:"Cancel",active:"Active",view:"View",detail:"Detail",update:"Update"}}},oo={dashboard:"Dashboard",system:{title:"System",user:"User",role:"Role",permission:"Permission"}},so={title:"Role"},no={title:"Permission"},ro={title:"User"},ao={permission:no,role:so,user:ro},io={button:{logout:"Logout"}},lo={common:to,module:ao,menu:oo,profile:io},co={hello:"hello JP"},uo={common:co},mo={hello:"Xin ch\xE0o",manager:{title:{new:"Th\xEAm m\u1EDBi",edit:"Ch\u1EC9nh s\u1EEDa",action:"H\xE0nh \u0111\u1ED9ng",confirmDelete:"B\u1EA1n c\xF3 mu\u1ED1n x\xF3a b\u1EA3n ghi n\xE0y kh\xF4ng?",remove:"X\xF3a d\u1EEF li\u1EC7u"},button:{new:"Th\xEAm m\u1EDBi",edit:"Ch\u1EC9nh s\u1EEDa",remove:"X\xF3a b\u1ECF",delete:"X\xF3a",cancel:"H\u1EE7y b\u1ECF",active:"K\xEDch ho\u1EA1ch",view:"Hi\u1EC3n th\u1ECB",detail:"Chi ti\u1EBFt",update:"C\u1EADp nh\u1EADt"},table:{empty:"Kh\xF4ng t\xECm th\u1EA5y d\u1EEF li\u1EC7u!"}}},ho={dashboard:"B\u1EA3ng \u0111i\u1EC1u khi\u1EC3n",system:{title:"H\u1EC7 th\u1ED1ng",user:"T\xE0i kho\u1EA3n",role:"Vai tr\xF2",permission:"Quy\u1EC1n h\u1EC7 th\u1ED1ng"}},po={title:"Vai tr\xF2",button:{permission:"Ph\xE2n quy\u1EC1n"}},_o={title:"Quy\u1EC1n"},vo={title:"T\xE0i kho\u1EA3n",button:{permission:"Ph\xE2n quy\u1EC1n"},field:{name:"H\u1ECD t\xEAn",email:"Email",password:"M\u1EADt kh\u1EA9u"}},fo={permission:_o,role:po,user:vo},bo={button:{logout:"Logout",profile:"Profile"}},go={common:mo,module:fo,menu:ho,profile:bo},$o={en:lo,jp:uo,vi:go},Eo={},Ao={},yo={};const ko=async()=>({loggin:!0,user:{},permissions:[],status:"",isAdmin:!1});var Ro={state:ko(),actions:{[w]:({commit:e,dispatch:t},o)=>{e(w),S.getUserMe().then(n=>{var a;n.status!=401&&(n==null?void 0:n.data)?e(F,(a=n==null?void 0:n.data)==null?void 0:a.data):(e(Q),e(L)),t(Y,o)}).catch(()=>{})},[Y]:({commit:e,dispatch:t},o)=>{o&&o.checkPermission&&o.checkPermission()},[L]:({commit:e,dispatch:t},o)=>{e(L),S.clearToken(!0)}},getters:{isAuthenticated:e=>(t=!0)=>t&&e.status==y.LOADING||e.loggin,canPermission:e=>(t,o=!0)=>e.status==y.LOADING&&o?!0:!(!e.loggin||!e.isAdmin&&!e.permissions.includes(t))},mutations:{[w]:e=>{e.status=y.LOADING},[F]:(e,t)=>{e.status=y.DONE,e.loggin=!0,e.user=t.user,e.isAdmin=t.isAdmin,e.permissions=t.permissions},[Q]:e=>{e.status=y.ERORR,e.loggin=!1},[L]:e=>{e.status=y.NONE,e.loggin=!1,e.user=void 0,e.isAdmin=void 0,e.permissions=void 0}}},No={auth:Ro},wo={state:Ao,mutations:yo,getters:Eo,modules:No},Lo=e=>{e.directive("can",{mounted(t,o,n){t.style.visibility=e.config.globalProperties.$can(o.value,!1)?"":"hidden"}})},To=e=>{e.use(Lo)};let z="vi";if(localStorage.getItem(M))z=localStorage.getItem(M);else if(document&&document.querySelector){let e=document.querySelector("meta[name=lang]");e&&e.getAttribute("content")&&(z=e.getAttribute("content"))}const xo=re({locale:z,fallbackLocale:de,messages:$o}),B=ae(wo),oe=ie({history:le(),routes:eo}),_=ce(Xe);oe.beforeEach((e,t,o)=>{var n;return((n=e==null?void 0:e.meta)==null?void 0:n.can)&&!_.config.globalProperties.$can(e.meta.can)?o({name:"Login"}):_.config.globalProperties.$isAuth()&&e.path==="/login"?o("/"):o()});_.config.globalProperties.$can=(e,t=!0)=>B.getters.canPermission(e,t);_.config.globalProperties.$isAuth=(e=!0)=>B.getters.isAuthenticated(e);_.use(ue);_.use(oe);_.use(B);_.use(xo);_.use(To);_.mount("#app");export{p as _,g as a,So as b,ee as e,q as p};
