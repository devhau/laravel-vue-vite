import{r as i,o as b,c as E,a as n,b as a,w as l,d as K,h as W,e as N,f as g,t as V,g as S,H as y,i as Q,j as J,k as Y,m as Z,l as ee,n as te,p as oe}from"./vendor.92c235f4.js";const ne="en",R="AUTH_REQUEST",I="AUTH_SUCCESS",j="AUTH_ERROR",B="AUTH_LOGOUT";var f=(e,t)=>{for(const[s,u]of t)e[s]=u;return e};const se={setup(){}},ae={class:"vh-profile-box"},ie=n("div",{class:"vh-profile-box__item"},null,-1),re=n("div",{class:"vh-profile-box__item"},null,-1),le=n("div",{class:"vh-profile-box__item"},null,-1),ce=n("div",{class:"vh-profile-box__item"},null,-1),ue={class:"vh-profile-box__item"};function de(e,t,s,u,o,r){const c=i("vh-button"),d=i("vh-col"),p=i("vh-row");return b(),E("div",ae,[ie,re,le,ce,n("div",ue,[a(p,null,{default:l(()=>[a(d,null,{default:l(()=>[a(c,{size:"sm",text:e.$t("profile.button.logout")},null,8,["text"])]),_:1}),a(d,null,{default:l(()=>[a(c,{size:"sm",text:e.$t("profile.button.logout")},null,8,["text"])]),_:1})]),_:1})])])}var he=f(se,[["render",de]]);const me=K({name:"HomePage",data(){return{layout:"Sidebar",menu:{app:{logo:{app:"HauAdmin",mini:"HAU"},version:{app:"Version 1.0.2",mini:"1.0.2"}},sidebar:[{className:"",icon:()=>"bi bi-box",title:()=>this.$t("menu.dashboard"),router:{name:"Home"}},{className:"",icon:"bi bi-box",title:"User",router:{name:"User"}},{className:"vh-user",icon:"bi bi-box",title:"Accordion",router:{name:"Accordion"}},{className:"",icon:"bi bi-box",title:"Alert",router:{name:"Alert"}}],header:{left:[{className:"",icon:"bi bi-box",title:"Home",link:"https://www.hau.xyz",sub:[]},{className:"",icon:"bi bi-box",title:"Report",link:"",sub:[{className:"",icon:"bi bi-box",title:"Report 1",link:""},{className:"",icon:"bi bi-box",title:"Report 2",link:""}]},{className:"",icon:"bi bi-box",title:"Order",link:"",sub:[]},{className:"",icon:"bi bi-box",title:"Github",link:"https://github.com/devhau/vue-ui-demo",sub:[]}],right:[{className:"",icon:"bi bi-box",title:"Inbox",link:"",sub:[]},{className:"vh-profile",icon:"bi bi-box",title:()=>{var e;return(e=this.$store.state.user)==null?void 0:e.name},link:"",sub:()=>W(he,{})}]},footer:[{className:"",icon:"bi bi-box",title:"Information",link:"",sub:[]},{className:"",icon:"bi bi-box",title:"Information",link:"",sub:[]}]}}},watch:{"$route.meta.layout":{handler:function(e){this.layout=e},deep:!0,immediate:!0}},created:()=>{},beforeMount(){this.$store.getters.isAuthenticated&&this.$store.dispatch(R)},mounted(){}});function pe(e,t,s,u,o,r){const c=i("router-view"),d=i("vh-application");return b(),N(d,{menu:e.menu,miniSidebar:!1,layout:e.layout},{default:l(()=>[a(c),g(" "+V(this.$store.state.auth.loggin),1)]),_:1},8,["menu","layout"])}var _e=f(me,[["render",pe]]);const ve="http://127.0.0.1:8000/api/",C=e=>e.startsWith("http")?e:ve+e,$={"Content-Type":"application/json",Accept:"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Origin, X-Requested-With, Content-Type, Accept"},L={...$,"Content-Type":"multipart/form-data; boundary=something",Accept:"multipart/form-data"},be=()=>{delete $.Authorization,delete L.Authorization},ge=e=>{$.Authorization=`Bearer ${e}`,L.Authorization=`Bearer ${e}`},x={get:(e,t)=>S.default.get(C(e),{params:t,headers:$,validateStatus:s=>y(s)}),post:(e,t)=>S.default.post(C(e),t,{headers:$,validateStatus:s=>y(s)}),put:(e,t)=>S.default.put(C(e),t,{headers:$,validateStatus:s=>y(s)}),delete:(e,t)=>S.default.delete(C(e),{params:t,headers:$,validateStatus:s=>y(s)}),postMultiplePart:(e,t)=>S.default.post(C(e),t,{headers:L,validateStatus:s=>y(s)})},fe=e=>({getAll:r=>x.get(`${e}`,r),add:r=>x.post(`${e}`,r),edit:(r,c)=>x.put(`${e}/${r}`,c),remove:r=>x.delete(`${e}/${r}`)});var m={...x,clearToken:be,setToken:ge};const P="vue_auth_token",$e=e=>m.post("auth/login",e),we=e=>m.post("auth/register",e),Ae=e=>m.post("auth/changePassword",e),z=()=>m.get("auth/user"),ke=()=>m.get("auth/logout");let H=[],D=!1;const Ue=e=>D||(H==null?void 0:H.includes(e)),O=e=>H=e!=null?e:[],M=()=>{const e=localStorage.getItem(P);return e!=null?(m.setToken(e),!0):!1},Se=async()=>{var e;if(!M()){F();return}try{let t=await z(),{permissions:s,isAdmin:u}=(e=t==null?void 0:t.data)==null?void 0:e.data;return O(s),D=u,t}catch(t){F(!0);return}},ye=e=>{m.setToken(e),localStorage.setItem(P,e)},F=e=>{e&&ke(),O([]),m.clearToken(),localStorage.removeItem(P)};var w={login:$e,register:we,me:z,checkAuth:M,setToken:ye,clearToken:F,changePassword:Ae,$can:Ue,setPermission:O,getUserMe:Se};const Ce={};function xe(e,t){return b(),E("div",null,V(e.$t("common.hello")),1)}var Te=f(Ce,[["render",xe]]);const Ne={data(){return{password:"",account:""}},methods:{doLogin(){w.login({email:this.account,device_name:"web",password:this.password}).then(({data:e})=>{w.setToken(e.token),this.$router.push({name:"Home"})})}},setup(){}},Re={class:"vh-auth-box"},He=n("div",{class:"vh-auth-header"},[n("h3",null,"Login")],-1),Ee={class:"vh-auth-body"},Ve={class:"mb-2"},Le=n("label",{for:"account"},"Account",-1),Pe={class:"mb-2"},Oe=n("label",{for:"password"},"Password",-1),Fe={class:"mb-2"},qe={class:"vh-auth-bottom"},Ie=g(" Register "),je=g(" Login ");function Be(e,t,s,u,o,r){const c=i("vh-input"),d=i("vh-checkbox"),p=i("vh-button"),A=i("vh-col"),k=i("vh-row"),h=i("vh-page");return b(),N(h,{class:"vh-auth-page"},{default:l(()=>[n("div",Re,[He,n("div",Ee,[n("div",Ve,[Le,a(c,{modelValue:o.account,"onUpdate:modelValue":t[0]||(t[0]=v=>o.account=v),id:"account",placeholder:"Account"},null,8,["modelValue"])]),n("div",Pe,[Oe,a(c,{modelValue:o.password,"onUpdate:modelValue":t[1]||(t[1]=v=>o.password=v),type:"password",id:"password",placeholder:"Password"},null,8,["modelValue"])]),n("div",Fe,[a(d,{label:"Remember me"})])]),n("div",qe,[a(k,null,{default:l(()=>[a(A,null,{default:l(()=>[a(p,{color:"success",onClick:t[2]||(t[2]=v=>e.$router.push({name:"Register"}))},{default:l(()=>[Ie]),_:1})]),_:1}),a(A,null,{default:l(()=>[a(p,{onClick:r.doLogin},{default:l(()=>[je]),_:1},8,["onClick"])]),_:1})]),_:1})])])]),_:1})}var ze=f(Ne,[["render",Be]]);const De={data(){return{email:"",name:"",pass:""}},methods:{doRegister(){w.register({email:this.email,name:this.name,password:this.pass}).then(()=>{this.$router.push({name:"Login"})})}},setup(){}},Me={class:"vh-auth-box"},Ge=n("div",{class:"vh-auth-header"},[n("h3",null,"Register")],-1),Xe={class:"vh-auth-body"},Ke={class:"mb-2"},We=n("label",{for:"email"},"Email",-1),Qe={class:"mb-2"},Je=n("label",{for:"fullname"},"Full name",-1),Ye={class:"mb-2"},Ze=n("label",{for:"password"},"Password",-1),et={class:"vh-auth-bottom"},tt=g(" Login "),ot=g(" Register ");function nt(e,t,s,u,o,r){const c=i("vh-input"),d=i("vh-button"),p=i("vh-col"),A=i("vh-row"),k=i("vh-page");return b(),N(k,{class:"vh-auth-page"},{default:l(()=>[n("div",Me,[Ge,n("div",Xe,[n("div",Ke,[We,a(c,{modelValue:o.email,"onUpdate:modelValue":t[0]||(t[0]=h=>o.email=h),id:"email",placeholder:"Email"},null,8,["modelValue"])]),n("div",Qe,[Je,a(c,{modelValue:o.name,"onUpdate:modelValue":t[1]||(t[1]=h=>o.name=h),id:"fullname",placeholder:"Full name"},null,8,["modelValue"])]),n("div",Ye,[Ze,a(c,{modelValue:o.pass,"onUpdate:modelValue":t[2]||(t[2]=h=>o.pass=h),type:"password",id:"password",placeholder:"Password"},null,8,["modelValue"])])]),n("div",et,[a(A,null,{default:l(()=>[a(p,null,{default:l(()=>[a(d,{onClick:t[3]||(t[3]=h=>e.$router.push({name:"Login"}))},{default:l(()=>[tt]),_:1})]),_:1}),a(p,null,{default:l(()=>[a(d,{color:"success",onClick:r.doRegister},{default:l(()=>[ot]),_:1},8,["onClick"])]),_:1})]),_:1})])])]),_:1})}var st=f(De,[["render",nt]]);const q={empty:"common.manager.table.empty",button:{new:"common.manager.button.new",edit:"common.manager.button.edit",remove:"common.manager.button.remove",delete:"common.manager.button.delete",cancel:"common.manager.button.cancel",active:"common.manager.button.active",view:"common.manager.button.view",detail:"common.manager.button.detail",update:"common.manager.button.update"},icon:{new:"bi bi-plus-square",edit:"bi bi-plus-square",remove:"bi bi-plus-square",delete:"bi bi-plus-square",cancel:"bi bi-plus-square",active:"bi bi-plus-square",view:"bi bi-plus-square",detail:"bi bi-plus-square",update:"bi bi-plus-square"}},at={props:{option:{}},data(){return{optionConfig:{},showFormUpdate:!1,isNew:!1,dataUpdate:{},source:[],search:"",sort:{},filter:{},current_page:0,last_page:0,per_page:15,row_from:0,row_to:0,total:0}},methods:{onSort(e,t){this.sort[e.field]=t,this.$emit("sort",e,t),this.onSearch()},onFilter(e,t){this.filter[e.field]=t,this.$emit("filter",e,t),this.onSearch()},onSearch(){let{api:e}=this.optionConfig;e.getAll({sort:this.sort,filter:this.filter,search:this.search}).then(({data:t})=>{if(t&&t.OK){let{data:s,current_page:u,from:o,to:r,last_page:c,total:d}=t.data;this.source=s,this.current_page=u,this.row_from=o,this.row_to=r,this.last_page=c,this.total=d}})},onShowFormUpdate(e,t=!1){this.dataUpdate=e,this.showFormUpdate=!0}},created(){this.optionConfig=Object.assign(this.option,q)},mounted(){this.optionConfig=Object.assign(this.option,q),console.log(this.optionConfig),this.onSearch()},watch:{option:{handler:function(e){this.optionConfig=Object.assign(e,q)},deep:!0,immediate:!0}},setup(){}},it={class:"vh-manager"},rt={class:"vh-manager__header"},lt={class:"vh-manager__header--left"},ct=n("div",{class:"vh-manager__header--center"},null,-1),ut={class:"vh-manager__header--right"},dt={class:"vh-manager__body"},ht=n("div",{class:"vh-manager__footer"},null,-1);function mt(e,t,s,u,o,r){var k,h,v;const c=i("vh-modal"),d=i("vh-button"),p=i("vh-input"),A=i("vh-table");return b(),E("div",it,[a(c,{show:o.showFormUpdate,onHide:t[0]||(t[0]=_=>o.showFormUpdate=!1)},{default:l(()=>[Q(e.$slots,"form_update",{data:o.dataUpdate,isNew:o.isNew})]),_:3},8,["show"]),n("div",rt,[n("div",lt,[a(d,{beforeIcon:(v=(h=(k=o.optionConfig)==null?void 0:k.icon)==null?void 0:h.new)!=null?v:"",onClick:t[1]||(t[1]=_=>r.onShowFormUpdate({},!0))},{default:l(()=>{var _,U;return[g(V(e.$t((U=(_=o.optionConfig)==null?void 0:_.button)==null?void 0:U.new)),1)]}),_:1},8,["beforeIcon"])]),ct,n("div",ut,[a(p,{placeholder:"Search",style:{width:"150px"}})])]),n("div",dt,[a(A,{source:o.source,option:o.optionConfig,sort:o.sort,filter:o.filter,start:o.row_from,onSort:t[2]||(t[2]=(_,U)=>r.onSort(_,U)),onFilter:t[3]||(t[3]=(_,U)=>r.onFilter(_,U))},null,8,["source","option","sort","filter","start"])]),ht])}var pt=f(at,[["render",mt]]);const _t=fe("user"),vt=(e,t)=>m.get(`user/permission/${e}/${t}`),bt=(e,t)=>m.put(`user/permission/${e}`,t);var gt={..._t,getPermission:vt,putPermission:bt};const ft={components:{Manager:pt},data(){return{option:{api:{...gt},columns:[{title:"#",isSort:!1,isFilter:!1,dataCell:(e,t,s)=>t+s},{title:"H\u1ECD t\xEAn",field:"name"},{title:"Email",field:"email"}]}}},setup(){}},$t=n("h3",null,"Th\xF4ng tin nh\xE2n vi\xEAn",-1),wt=g(" Xin ch\xE0o ");function At(e,t,s,u,o,r){const c=i("manager"),d=i("vh-page");return b(),N(d,null,{default:l(()=>[$t,a(c,{option:o.option},{default:l(()=>[wt]),_:1},8,["option"])]),_:1})}var kt=f(ft,[["render",At]]);const G={None:"None",NoSidebar:"NoSidebar",Sidebar:"Sidebar"},Ut=[{path:"/",name:"Home",component:Te},{path:"/user",name:"User",component:kt},{path:"/login",name:"Login",component:ze,meta:{layout:G.None}},{path:"/register",name:"Register",component:st,meta:{layout:G.None}}],St=["/login","/register"],X=J({history:Y(),routes:Ut});X.beforeEach((e,t,s)=>{const u=!St.includes(e.path),o=w.checkAuth();return u&&!o?s("/login"):o&&e.path==="/login"?s("/"):s()});var yt={hello:"hello",manager:{button:{new:"New",edit:"Edit",remove:"Remove",delete:"Delete",cancel:"Cancel",active:"Active",view:"View",detail:"Detail",update:"Update"}}},Ct={dashboard:"B\u1EA3ng \u0111i\u1EC1u khi\u1EC3n"},xt={},Tt={button:{logout:"Logout"}},Nt={common:yt,module:xt,menu:Ct,profile:Tt},Rt={},Ht={common:Rt},Et={hello:"Xin ch\xE0o",manager:{button:{new:"Th\xEAm m\u1EDBi",edit:"Ch\u1EC9nh s\u1EEDa",remove:"X\xF3a b\u1ECF",delete:"X\xF3a",cancel:"H\u1EE7y b\u1ECF",active:"K\xEDch ho\u1EA1ch",view:"Hi\u1EC3n th\u1ECB",detail:"Chi ti\u1EBFt",update:"C\u1EADp nh\u1EADt"},table:{empty:"Kh\xF4ng t\xECm th\u1EA5y d\u1EEF li\u1EC7u!"}}},Vt={dashboard:"B\u1EA3ng \u0111i\u1EC1u khi\u1EC3n"},Lt={},Pt={button:{logout:"Logout"}},Ot={common:Et,module:Lt,menu:Vt,profile:Pt},Ft={en:Nt,jp:Ht,vi:Ot},qt={},It={},jt={};const Bt=async()=>({loggin:w.checkAuth(),user:{},status:""});var zt={state:Bt(),actions:{[R]:({commit:e,dispatch:t},s)=>{e(R),w.getUserMe().then(({data:u})=>{u&&u.OK?e(I,u.data):(e(j),e(B))})}},getters:{isAuthenticated:()=>w.checkAuth()},mutations:{[R]:e=>{e.status="loading"},[I]:(e,t)=>{console.log(t),e.status="done",e.loggin=!0,e.user=t.user},[j]:e=>{e.status="error",e.loggin=!1},[B]:e=>{e.status="",e.loggin=!1}}},Dt={auth:zt},Mt={state:It,mutations:jt,getters:qt,modules:Dt};const Gt=Z({locale:"vi",fallbackLocale:ne,messages:Ft}),Xt=ee(Mt),T=te(_e);T.use(oe);T.use(X);T.use(Xt);T.use(Gt);T.mount("#app");
